(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){},33:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},51:function(e,t,n){},58:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(7),a=n.n(i),c=n(2),u=(n(33),n(28)),l=n.n(u);n(34);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),n=t,(i=[{key:"render",value:function(){return o.a.createElement(r.Fragment,null,this.props.pageStore.status)}}])&&f(n.prototype,i),a&&f(n,a),t}(),m=Object(c.b)("pageStore")(Object(c.c)(h));var v,d=function(){return o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",{className:"App-title"},"My Address Book",o.a.createElement(m,null)))},g=n(11),w=n.n(g),O=n(10),j=n.n(O),E=n(26),k=n.n(E),S=n(4);function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var D=(N((v=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=C(this,(e=z(t)).call.apply(e,[this].concat(o)))).state={value:"",error:!1},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){var t=this;this.setState({value:e.target.value},function(){t.isValid()})}},{key:"isValid",value:function(){var e=this.state.value,t=!this.props.validate(e);return this.setState({error:t}),!t}},{key:"value",get:function(){return this.state.value},set:function(e){this.setState({value:e})}}])&&P(n.prototype,r),i&&P(n,i),t}()).prototype,"onChange",[S.a],Object.getOwnPropertyDescriptor(v.prototype,"onChange"),v.prototype),N(v.prototype,"isValid",[S.a],Object.getOwnPropertyDescriptor(v.prototype,"isValid"),v.prototype),v);function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){return function(e){return o.a.forwardRef(function(t,n){return o.a.createElement(e,x({},t,{forwardedRef:n}))})}(function(e,t){return function(n){var r=n.forwardedRef,i=T(n,["forwardedRef"]);return o.a.createElement(e,x({ref:r},i,{validate:t}))}}(t,e))}n(37);function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=M(function(e){return""!==e},function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,Q(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,D),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.value,n=e.error,r="contact-form__name ".concat(n?"contact-form__name_error":"");return o.a.createElement("input",{className:r,name:"name",value:t,type:"text",required:!0,onChange:this.onChange,placeholder:"Name"})}}])&&L(n.prototype,r),i&&L(n,i),t}());n(38);function U(e){return(U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==U(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;var $=M(function(e){return Z.test(e)&&""!==e},function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,q(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,D),n=t,(r=[{key:"render",value:function(){var e="contact-form__email ".concat(this.state.error?"contact-form__email_error":"");return o.a.createElement("input",{className:e,name:"email",value:this.state.value,type:"email",onChange:this.onChange,required:!0,placeholder:"Email"})}}])&&W(n.prototype,r),i&&W(n,i),t}()),J=n(5),H=n.n(J);n(41);function G(e){var t=e.buttons;return o.a.createElement("div",{className:"contact-form__button-set"},t.filter(function(e){return e.isVisible}).map(function(e){return o.a.createElement("button",{className:e.className,key:"button_".concat(e.name),type:"button",name:e.name,onClick:e.onClick},e.label)}))}G.propTypes={buttons:H.a.shape().isRequired};var K,Y=G;n(16);function ee(e){return(ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==ee(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ae=(ie((K=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=ne(this,(e=re(t)).call.apply(e,[this].concat(o)))).state={message:null},n}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.contactStore,r=e.isNew,o=e.pageStore;if(n.contacts.some(function(e){return e.id===t})){var i=n.contacts.find(function(e){return e.id===t});this.email.value=i.email,this.name.value=i.name}else"new"===t&&(this.email.value="",this.name.value="");r?o.viewNewContactPage():o.viewEditContactPage()}},{key:"onSaveClick",value:function(){var e=this,t=this.props,n=t.isNew,r=t.id,o=t.contactStore;this.isValid()&&(this.setState({message:n?"Creating":"Updating"}),o[n?"create":"update"](r,this.getValues()).then(function(){e.navigateToMainPage()}))}},{key:"onDeleteClick",value:function(){var e=this,t=this.props,n=t.contactStore,r=t.id;this.setState({message:"Deleting"}),n.delete(r).then(function(){e.navigateToMainPage()})}},{key:"onCancelClick",value:function(){this.navigateToMainPage()}},{key:"getValues",value:function(){return{name:this.name.value,email:this.email.value}}},{key:"setEmailRef",value:function(e){this.email=e}},{key:"setNameRef",value:function(e){this.name=e}},{key:"buttonsData",value:function(){var e=this.props.isNew;return[{className:"button-set__delete-button",name:"delete",onClick:this.onDeleteClick,isVisible:!e,label:"Delete"},{className:"button-set__save-button",name:"save",onClick:this.onSaveClick,isVisible:!0,label:"Ok"},{className:"button-set__cancel-button",name:"cancel",onClick:this.onCancelClick,isVisible:!0,label:"Cancel"}]}},{key:"isValid",value:function(){return this.name.isValid()&this.email.isValid()}},{key:"navigateToMainPage",value:function(){var e=this.props,t=e.history,n=e.match;t.replace(n.url.slice(0,n.url.lastIndexOf("/")))}},{key:"render",value:function(){var e=this.state.message;return e||o.a.createElement("div",{className:"contact-form"},o.a.createElement(I,{ref:this.setNameRef}),o.a.createElement($,{ref:this.setEmailRef}),o.a.createElement(Y,{buttons:this.buttonsData()}))}}])&&te(n.prototype,i),a&&te(n,a),t}()).prototype,"onSaveClick",[S.a],Object.getOwnPropertyDescriptor(K.prototype,"onSaveClick"),K.prototype),ie(K.prototype,"onDeleteClick",[S.a],Object.getOwnPropertyDescriptor(K.prototype,"onDeleteClick"),K.prototype),ie(K.prototype,"onCancelClick",[S.a],Object.getOwnPropertyDescriptor(K.prototype,"onCancelClick"),K.prototype),ie(K.prototype,"setEmailRef",[S.a],Object.getOwnPropertyDescriptor(K.prototype,"setEmailRef"),K.prototype),ie(K.prototype,"setNameRef",[S.a],Object.getOwnPropertyDescriptor(K.prototype,"setNameRef"),K.prototype),ie(K.prototype,"buttonsData",[S.a],Object.getOwnPropertyDescriptor(K.prototype,"buttonsData"),K.prototype),K),ce=Object(c.b)("contactStore","pageStore")(Object(c.c)(ae));function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==ue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be,he,me=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=fe(this,(e=pe(t)).call.apply(e,[this].concat(o)))).state={isNew:!0,id:null},n}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this.props.match.params.contactId;this.props.contactStore.contacts.some(function(t){return t.id===e})?this.setState({id:e,isNew:!1}):"new"===e&&this.setState({isNew:!0,id:k()()})}},{key:"componentWillUnmount",value:function(){this.props.contactStore.research()}},{key:"render",value:function(){return this.state.id?o.a.createElement(ce,le({},this.props,{id:this.state.id,isNew:this.state.isNew})):"Not Found"}}])&&se(n.prototype,i),a&&se(n,a),t}(),ve=Object(c.b)("contactStore","pageStore")(Object(c.c)(me)),de=n(9),ge=n.n(de),we=(n(42),n(27)),Oe=n.n(we);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e){return(Ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),e}function Pe(e,t){return!t||"object"!==Ee(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var De,Te,xe,Me=(Ne((be=function(e){function t(){return ke(this,t),Pe(this,Ce(t).apply(this,arguments))}return ze(t,r["Component"]),_e(t,[{key:"componentDidMount",value:function(){this.searchElement.getValue().value=this.props.contactStore.filterQuery,this.search=Oe()(this.props.contactStore.search,700)}},{key:"componentDidUpdate",value:function(){var e=this.props.contactStore.filterQuery;this.searchElement.getValue().value!==e&&(this.searchElement.getValue().value=e)}},{key:"onFilterQueryChange",value:function(e){this.search(e.target.value)}},{key:"setRef",value:function(e){this.searchElement=e}},{key:"render",value:function(){return o.a.createElement(Fe,{onChange:this.onFilterQueryChange,ref:this.setRef})}}]),t}()).prototype,"onFilterQueryChange",[S.a],Object.getOwnPropertyDescriptor(be.prototype,"onFilterQueryChange"),be.prototype),Ne(be.prototype,"setRef",[S.a],Object.getOwnPropertyDescriptor(be.prototype,"setRef"),be.prototype),be),Fe=(Ne((he=function(e){function t(){return ke(this,t),Pe(this,Ce(t).apply(this,arguments))}return ze(t,r["PureComponent"]),_e(t,[{key:"getValue",value:function(){return this.searchElement}},{key:"setRef",value:function(e){this.searchElement=e}},{key:"render",value:function(){return o.a.createElement("input",{type:"text",onChange:this.props.onChange,ref:this.setRef})}}]),t}()).prototype,"setRef",[S.a],Object.getOwnPropertyDescriptor(he.prototype,"setRef"),he.prototype),he),Le=Object(c.b)("contactStore")(Object(c.c)((De="contactStore",Te="filterQuery",xe=Me,function(e){var t=e[De][Te];return o.a.createElement(xe,je({},e,{changedProperty:t}))}))),Ve={search:o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),spinner:o.a.createElement("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40",space:"preserve"},o.a.createElement("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\r s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\r c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),o.a.createElement("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\r C22.32,8.481,24.301,9.057,26.013,10.047z"},o.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})))};var Qe=function(e){return Ve[e.name]};var Ae=Object(c.b)("contactStore")(Object(c.c)(function(e){return o.a.createElement(Qe,{name:e.contactStore.filtering?"spinner":"search"})}));function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==Ie(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),We(this,Be(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,r["PureComponent"]),n=t,(i=[{key:"render",value:function(){return o.a.createElement("button",{className:"search-container__close-button",onClick:this.props.onClick},"X")}}])&&Ue(n.prototype,i),a&&Ue(n,a),t}(),Ze=Object(c.b)("contactStore")(Object(c.c)(function(){return""!==this.props.contactStore.filterQuery?o.a.createElement(Xe,{onClick:this.props.contactStore.clearSearch}):o.a.createElement(r.Fragment,null)}));var $e,Je=function(){return o.a.createElement("div",{className:"search-container"},o.a.createElement(Le,null),o.a.createElement(Ae,null),o.a.createElement(Ze,null))};n(20),n(51);function He(e){return(He="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return!t||"object"!==He(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=(function(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(($e=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Ke(this,(e=Ye(t)).call.apply(e,[this].concat(o)))).state={message:null},n}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,r["Component"]),n=t,(i=[{key:"onDeleteClick",value:function(){var e=this.props,t=e.contactStore,n=e.pageStore,r=e.id;t.delete(r).then(function(){n.closeContactForm()}),this.setState({message:"Deleting..."})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.email,r=e.id,i=this.state.message;return o.a.createElement("div",{className:"contact-list-item"},o.a.createElement("div",{className:"contact-list-item__info"},o.a.createElement(ge.a,{to:"/".concat(r)},o.a.createElement("div",{className:"contact-list-item__name"},t)),o.a.createElement("div",{className:"contact-list-item__email"},n)),o.a.createElement("div",{className:"contact-list-item__right-part"},o.a.createElement("div",{className:"contact-list-item__message"},o.a.createElement("span",null,i)),o.a.createElement("div",{className:"contact-list-item__actions"},i&&o.a.createElement("div",{className:"contact-list-item__spinner"},o.a.createElement(Qe,{name:"spinner"})),o.a.createElement("button",{onClick:this.onDeleteClick,type:"button"},"X"))))}}])&&Ge(n.prototype,i),a&&Ge(n,a),t}()).prototype,"onDeleteClick",[S.a],Object.getOwnPropertyDescriptor($e.prototype,"onDeleteClick"),$e.prototype),$e),nt=Object(c.b)("contactStore","pageStore")(tt);var rt=Object(c.b)("contactStore")(Object(c.c)(function(e){var t=e.contactStore,n=t.contacts,r=t.filterResult;return(""!==t.filterQuery?r:n).map(function(e){return o.a.createElement(nt,{id:e.id,name:e.name,key:"contact-list-item".concat(e.id),email:e.email})})}));var ot=Object(c.b)("contactStore")(Object(c.c)(function(){return o.a.createElement("div",{className:"contact-list"},o.a.createElement(Je,null),o.a.createElement("div",{className:"contact-list__content"},o.a.createElement(rt,null),o.a.createElement(ge.a,{to:"/new"},o.a.createElement("button",{className:"contact-list__add-button"},"+"))))}));function it(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var at=function(e){return function(t){var n=t.loading,i=it(t,["loading"]);return n?o.a.createElement(r.Fragment,null,"Loading"):o.a.createElement(e,i)}}(w()(function(e){var t=e.match;return o.a.createElement(r.Fragment,null,o.a.createElement(j.a,{component:ot,path:"".concat(t.url,"/")}),o.a.createElement(j.a,{component:ve,path:"/:contactId/"}))}));function ct(e){return(ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return!t||"object"!==ct(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lt(this,st(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this.props.contactStore.initWorker(),this.props.contactStore.fetchContacts()}},{key:"render",value:function(){return o.a.createElement(at,{loading:this.props.contactStore.loading})}}])&&ut(n.prototype,i),a&&ut(n,a),t}(),yt=w()(Object(c.b)("contactStore","pageStore")(Object(c.c)(pt)));n(58);var bt=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,null),o.a.createElement(l.a,null,o.a.createElement(yt,null)))},ht=n(1),mt=function(){self.addEventListener("message",function(e){var t=e.data.payload;switch(e.data.type){case"FILTER":var n=t.query,r=t.contacts,o=n.toLowerCase(),i=function(e){return e.toLowerCase().includes(o)},a=r.filter(function(e){return i(e.name)||i(e.email)});postMessage({type:"FILTER_RESULT",payload:{filterResult:a}})}})};var vt=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.toString(),r=new Blob(["(".concat(n,")()")]);return new Worker(URL.createObjectURL(r))},dt=n(14),gt=n.n(dt);n(65);gt.a.initializeApp({databaseURL:"https://address-book-app-8cc63.firebaseio.com"});var wt,Ot,jt,Et,kt,St,_t,Pt,Ct,zt=gt.a.database(),Rt=function(e,t,n){return zt.ref().update((r={},o="".concat(e,"/").concat(t),i=n,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r));var r,o,i},Nt="contacts",Dt=function(){return function(e){return zt.ref(e).once("value")}(Nt)},Tt=function(e,t){return function(e,t,n){return zt.ref("".concat(e,"/").concat(t)).set(n)}(Nt,e,t)},xt=function(e,t){return Rt(Nt,e,t)},Mt=function(e){return function(e,t){return zt.ref("".concat(e,"/").concat(t)).remove()}(Nt,e)};function Ft(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Qt,At,It,Ut=(wt=ht.d.bound,Ot=ht.d.bound,jt=ht.d.bound,kt=Vt((Et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ft(this,"contacts",kt,this),Ft(this,"loading",St,this),Ft(this,"filterQuery",_t,this),Ft(this,"filterResult",Pt,this),Ft(this,"filtering",Ct,this)}var t,n,r;return t=e,(n=[{key:"initWorker",value:function(){var e=this;this.worker=new vt(mt),this.worker.addEventListener("message",function(t){var n=t.data.payload;switch(t.data.type){case"FILTER_RESULT":e.filterResult=n.filterResult,e.filtering=!1}})}},{key:"fetchContacts",value:function(){var e=this;Dt().then(function(t){var n=t.val();if(n)for(var r=Object.keys(n),o=r.length,i=0;i<o;i++){var a=r[i],c=n[a];e.contacts.push(Object.assign(c,{id:a}))}e.loading=!1})}},{key:"add",value:function(e){this.contacts.push(e)}},{key:"search",value:function(e){this.filtering=!0,""===e?this.clearSearch():(this.filterQuery=e,this.worker.postMessage({type:"FILTER",payload:{query:e,contacts:Object(ht.m)(this.contacts)}}))}},{key:"research",value:function(){this.filtering=!0,""===this.filterQuery?this.clearSearch():this.worker.postMessage({type:"FILTER",payload:{query:this.filterQuery,contacts:Object(ht.m)(this.contacts)}})}},{key:"clearSearch",value:function(){this.filterQuery="",this.filterResult=[],this.filtering=!1}},{key:"create",value:function(e,t){var n=this;return Tt(e,t).then(function(){n.contacts.push(Object.assign(t,{id:e}))})}},{key:"update",value:function(e,t){var n=this;return xt(e,t).then(function(){var r=n.contacts.findIndex(function(t){return t.id===e});n.contacts[r]=Object.assign(t,{id:e})})}},{key:"delete",value:function(e){var t=this;return Mt(e).then(function(){var n=t.contacts.findIndex(function(t){return t.id===e});t.contacts.splice(n,1)})}}])&&Lt(t.prototype,n),r&&Lt(t,r),e}()).prototype,"contacts",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=Vt(Et.prototype,"loading",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_t=Vt(Et.prototype,"filterQuery",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pt=Vt(Et.prototype,"filterResult",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=Vt(Et.prototype,"filtering",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt(Et.prototype,"fetchContacts",[ht.d],Object.getOwnPropertyDescriptor(Et.prototype,"fetchContacts"),Et.prototype),Vt(Et.prototype,"add",[ht.d],Object.getOwnPropertyDescriptor(Et.prototype,"add"),Et.prototype),Vt(Et.prototype,"search",[wt],Object.getOwnPropertyDescriptor(Et.prototype,"search"),Et.prototype),Vt(Et.prototype,"research",[Ot],Object.getOwnPropertyDescriptor(Et.prototype,"research"),Et.prototype),Vt(Et.prototype,"clearSearch",[jt],Object.getOwnPropertyDescriptor(Et.prototype,"clearSearch"),Et.prototype),Vt(Et.prototype,"create",[ht.d],Object.getOwnPropertyDescriptor(Et.prototype,"create"),Et.prototype),Vt(Et.prototype,"update",[ht.d],Object.getOwnPropertyDescriptor(Et.prototype,"update"),Et.prototype),Vt(Et.prototype,"delete",[ht.d],Object.getOwnPropertyDescriptor(Et.prototype,"delete"),Et.prototype),Et);function Wt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Xt=(At=qt((Qt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wt(this,"nextRoute",At,this),Wt(this,"status",It,this)}var t,n,r;return t=e,(n=[{key:"closeContactForm",value:function(){this.nextRoute="/"}},{key:"viewMainPage",value:function(){this.status="",this.nextRoute=null}},{key:"viewEditContactPage",value:function(){this.status="/ Edit contact"}},{key:"viewNewContactPage",value:function(){this.status="/ New contact"}}])&&Bt(t.prototype,n),r&&Bt(t,r),e}()).prototype,"nextRoute",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=qt(Qt.prototype,"status",[ht.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qt(Qt.prototype,"closeContactForm",[ht.d],Object.getOwnPropertyDescriptor(Qt.prototype,"closeContactForm"),Qt.prototype),qt(Qt.prototype,"viewMainPage",[ht.d],Object.getOwnPropertyDescriptor(Qt.prototype,"viewMainPage"),Qt.prototype),qt(Qt.prototype,"viewEditContactPage",[ht.d],Object.getOwnPropertyDescriptor(Qt.prototype,"viewEditContactPage"),Qt.prototype),qt(Qt.prototype,"viewNewContactPage",[ht.d],Object.getOwnPropertyDescriptor(Qt.prototype,"viewNewContactPage"),Qt.prototype),Qt),Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $t(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Jt={contactStore:new Ut,pageStore:new Xt};a.a.render(o.a.createElement(c.a,Jt,o.a.createElement(bt,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(/address_book_app/,"/service-worker.js");Zt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$t(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):$t(e)})}}()}},[[68,1,2]]]);